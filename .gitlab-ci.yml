# This file is a template, and might need editing before it works on your project.
# see https://docs.gitlab.com/ce/ci/yaml/README.html for all available options

# you can delete this line if you're not using Docker
image: busybox:latest

stages: # Ici on déclare toutes nos étapes
  - build
  - test
  - deploy

job:build:
  stage: build # On déclare que ce `job` fait partie de l'étape build
  script: make build

job:test:unit:
  stage: test # On déclare que ce `job` fait partie de l'étape test
  script: make test-unit

job:test:functional:
  stage: test # On déclare que ce `job` fait partie de l'étape test
  script: make test-functional

job:deploy:
  stage: deploy # On déclare que ce `job` fait partie de l'étape deploy
  script: make deploy


# before_script:
# - echo "Before script section"
# - echo "For example you might run an update here or install a build dependency"
# - echo "Or perhaps you might print out some debugging details"

# after_script:
# - echo "After script section"
# - echo "For example you might do some cleanup here"

# build1:
#  stage: build
#  script:
#    - echo "Do your build here"

#test1:
#  stage: test
#  script:
#    - echo "Do a test here"
#    - echo "For example run a test suite"

#test2:
#  stage: test
#  script:
#    - echo "Do another parallel test here"
#    - echo "For example run a lint test"

#deploy1:
#  stage: deploy
#  script:
#    - echo "Do your deploy here"
